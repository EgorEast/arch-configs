#!/usr/bin/env bash
#
# i3blocks blocklet script to monitor Yandex.Disk status

diskstatus="üì¢" # –°—Ç–∞—Ç—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
yandex_output=$(yandex-disk status 2>&1 | head -1)

if [[ "$yandex_output" == *"–æ–∂–∏–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã"* ]]; then
  diskstatus="üí§" # –°–ø—è—â–∏–π —Ä–µ–∂–∏–º/–æ–∂–∏–¥–∞–Ω–∏–µ
elif [[ "$yandex_output" == *"–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö"* ]]; then
  diskstatus="üîÑ" # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
elif [[ "$yandex_output" == *"–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"* ]]; then
  diskstatus="‚è∏Ô∏è" # –ü–∞—É–∑–∞/–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
elif [[ "$yandex_output" == *"–¥–µ–º–æ–Ω –Ω–µ –∑–∞–ø—É—â–µ–Ω"* ]]; then
  diskstatus="‚ùå" # –°–µ—Ä–≤–∏—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
elif [[ "$yandex_output" == *"–û—à–∏–±–∫–∞"* ]]; then
  diskstatus="‚ö†Ô∏è" # –û—à–∏–±–∫–∞
fi

echo "$diskstatus"
